rm(list = ls())
a = 1
rm(list = ls())
library(tidyverse)
library(here)
i_am()
library(here)
i_am()
here()
?here
here("5_Data")
here("5_Data", "0_testdata", "exp12 (2).csv")
df <- read_csv(here("5_Data", "0_testdata", "exp12 (2).csv"))
df <- read_csv(path)
rm(list = ls())
###############import the packages##############
library(tidyverse)
library(here)
#set the path#
path <- here("5_Data", "0_testdata", "exp12 (2).csv")
#import the data from path
df <- read_csv(path)
View(df)
df$response[5]$Q0
jsonlite::fromJSON(df$response[5]$Q0)
df$response
jsonlite::fromJSON(df$response[5])
jsonlite::fromJSON(df$response[5])$Q0
jsonlite::fromJSON(data[[i]]$response[6])
jsonlite::fromJSON(df$response[6])
jsonlite::fromJSON(df$response[6])
#import the data from path
df <- read_csv(path)
df$subj_idx <- jsonlite::fromJSON(df$response[5])$Q0
df$subj_idx
df$gender <- jsonlite::fromJSON(df$response[6])
df$gender
df$year
df$year <- jsonlite::fromJSON(df$response[7])$Q0
df$year
df$education <- jsonlite::fromJSON(df$response[8])$Q0
df$education
df$dist <- df$view_dist_mm[9]
df$dist
rm(list = ls())#clear the environment
function (x, df1, df2, ncp, log = FALSE)
{
if (missing(ncp))
.Call(C_df, x, df1, df2, log)
else .Call(C_dnf, x, df1, df2, ncp, log)
}
rm(list = ls())#clear the environment
###############import the packages##############
library(tidyverse)
library(here)
#set the path#
path <- here("5_Data", "0_testdata", "exp12 (2).csv")
#import the data from path
df <- read_csv(path)
# basic information of subject
df$subj_idx <- jsonlite::fromJSON(df$response[5])$Q0
df$gender <- jsonlite::fromJSON(df$response[6])
df$year <- jsonlite::fromJSON(df$response[7])$Q0
df$education <- jsonlite::fromJSON(df$response[8])$Q0
df$dist <- df$view_dist_mm[9]
view(df)
head(df)
df2 <- df %>%
dplyr::select(subj_idx, gender, year, education,
dist, Image, word, target, test,
image_start, word_start, Valence, Matchness,
exp_condition, response, key_press, correct_response,
correct, rt)
View(df2)
df2 <- df %>%
dplyr::select(subj_idx, gender, year, education,
dist, trial_type,Image, word, target, test,
image_start, word_start, Valence, Matchness,
exp_condition, response, key_press, correct_response,
correct, rt)
df2 <- df %>%
dplyr::select(subj_idx, gender, year, education,
dist, trial_type, Image, word, target, test,
image_start, word_start, Valence, Matchness,
exp_condition, response, key_press, correct_response,
correct, rt)
View(df2)
df2 <- df %>%
dplyr::select(subj_idx, gender, year, education,
dist, trial_type, Image, word, target, test,
image_start, word_start, Valence, Matchness,
exp_condition, response, key_press, correct_response,
correct, rt) %>%
dplyr::filter(trial_type == "psychophysics")
View(df2)
df3 <- dplyr::filter(trial_type == "psychophysics")
df2 <- df %>%
dplyr::select(subj_idx, gender, year, education,
dist, trial_type, Image, word, target, test,
image_start, word_start, Valence, Matchness,
exp_condition, response, key_press, correct_response,
correct, rt)
df3 <- dplyr::filter(trial_type == "psychophysics")
df3 <- df2 %>%
dplyr::filter(trial_type == "psychophysics")
View(df3)
df3 %>%
group_by(exp_condition) %>%
summarise(n = n())
rm(list = ls())#clear the environment
###############import the packages##############
library(tidyverse)
library(here)
#set the path#
path <- here("5_Data", "0_testdata", "exp12 (2).csv")
preprocessing <- function(path){
#import the data from path
df <- read_csv(path)
# basic information of subject
df$subj_idx <- jsonlite::fromJSON(df$response[5])$Q0
df$gender <- jsonlite::fromJSON(df$response[6])
df$year <- jsonlite::fromJSON(df$response[7])$Q0
df$education <- jsonlite::fromJSON(df$response[8])$Q0
df$dist <- df$view_dist_mm[9]
head(df)
df2 <- df %>%
dplyr::select(subj_idx, gender, year, education,
dist, trial_type, Image, word, target, test,
image_start, word_start, Valence, Matchness,
exp_condition, response, key_press, correct_response,
correct, rt)
df3 <- df2 %>%
dplyr::filter(trial_type == "psychophysics")
return(df3)
}
preprocessing(path)
a <- preprocessing(path)
View(a)
file_path <- here("5_Data", "0_testdata", "exp12 (2).csv")
files <- list.files(file_path)
files
file_path <- here("5_Data", "0_testdata")
files <- list.files(file_path)
files
purrr::map2_dfr(files, preprocessing)
files <- list.files(file_path, pattern = "csv", full.names = TRUE)
files
purrr::map2_dfr(files, preprocessing)
purrr::map2_dfr(files, ~preprocessing(path = .x))
purrr::map2_dfr(files, preprocessing)
?map2_dfr
purrr::map2_dfr(files, read_csv)
file_path
files
purrr::map2_dfr(.x = files, .f = read_csv)
purrr::map_dfr(.x = files, .f = read_csv)
all <- purrr::map_dfr(.x = files, .f = preprocessing())
all <- purrr::map_dfr(.x = files, .f = ~preprocessing(.x))
View(all)
length(all)
ncol(all)
nrow(all)
nrow(all)/3
source(./utils.R)
source('./utils.R')
source('../utils.R')
#set the path#
getwd()
source('4_Script/utils.R')
rm(list = ls())#clear the environment
###############import the packages##############
library(tidyverse)
library(here)
source('4_Script/utils.R')
#set the path#
file_path <- here("5_Data", "0_testdata")
files <- list.files(file_path, pattern = "csv", full.names = TRUE)
all <- purrr::map_dfr(.x = files, .f = ~preprocessing(.x))
rm(list = ls())#clear the environment
###############import the packages##############
library(tidyverse)
library(here)
source('4_Script/utils.R')
#set the path#
file_path <- here("5_Data", "0_testdata")
files <- list.files(file_path, pattern = "csv", full.names = TRUE)
all <- purrr::map_dfr(.x = files, .f = ~preprocessing(.x))
source('4_Script/utils.R')
#set the path#
file_path <- here("5_Data", "0_testdata")
files <- list.files(file_path, pattern = "csv", full.names = TRUE)
all <- purrr::map_dfr(.x = files, .f = ~preprocessing(.x))
nrow(all)/3
rm(list = ls())#clear the environment
###############import the packages##############
library(tidyverse)
library(here)
source('4_Script/utils.R')
#set the path#
file_path <- here("5_Data", "0_testdata")
files <- list.files(file_path, pattern = "csv", full.names = TRUE)
all <- purrr::map_dfr(.x = files, .f = ~preprocessing(.x))
nrow(all)/3
